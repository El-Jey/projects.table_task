(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{559:function(t,e,i){var a=i(665);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(114).default)("412c4126",a,!1,{})},664:function(t,e,i){"use strict";i(559)},665:function(t,e,i){"use strict";i.r(e);var a=i(65),s=i.n(a),r=i(666),n={insert:"head",singleton:!1};s()(r.a,n);e.default=r.a.locals||{}},666:function(t,e,i){"use strict";var a=i(66),s=i.n(a),r=i(67),n=i.n(r)()(s.a);n.push([t.i,".alert[data-v-12df9064]{bottom:0;position:absolute;z-index:99999}","",{version:3,sources:["webpack://./src/Components/popups/Alert.vue"],names:[],mappings:"AAsBA,wBACI,QAAA,CACA,iBAAA,CACA,aAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.alert {\r\n    bottom: 0;\r\n    position: absolute;\r\n    z-index: 99999;\r\n}\r\n"],sourceRoot:""}]),e.a=n},735:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("app-left-bar"),t._v(" "),i("app-header"),t._v(" "),i("v-main",[i("v-container",{staticClass:"pa-6 ma-0",attrs:{fluid:""}},[i("v-row",[i("v-col",[i("projects-table",{attrs:{projects:t.projects}})],1)],1)],1)],1),t._v(" "),i("app-footer"),t._v(" "),t.alert.show?i("alert-popup"):t._e()],1)};a._withStripped=!0;var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app-bar",{attrs:{app:""}},[i("v-app-bar-nav-icon",{staticClass:"hidden-md",attrs:{color:"accent"},on:{click:function(e){return t.toggleLeftBar("leftBarVisible")}}}),t._v(" "),i("v-app-bar-nav-icon",{staticClass:"hidden-sm",attrs:{color:"accent"},on:{click:function(e){return t.toggleLeftBar("leftBarMini")}}}),t._v(" "),i("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),i("v-spacer"),t._v(" "),i("app-bar-account")],1)};s._withStripped=!0;var r=i(51),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{icon:""}},"v-btn",s,!1),a),[i("v-badge",{attrs:{content:t.messages,value:t.messages,color:"warning",overlap:""}},[i("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-bell")])],1)],1)]}}])},[t._v(" "),i("v-card",{attrs:{"max-width":"450"}},[i("v-list",{attrs:{flat:"",dense:""}},[i("v-subheader",[t._v("Сегодня")]),t._v(" "),t._l(t.notifications,(function(e,a){return i("v-list-item",{key:a,attrs:{to:"#"}},[i("v-list-item-icon",{staticClass:"mr-3"},[i("v-icon",{attrs:{color:e.color}},[t._v("mdi-alert-circle\n                    ")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)}))],2),t._v(" "),i("div",{staticClass:"text-center py-2"},[i("v-btn",{attrs:{plain:"",small:"",color:"error"}},[t._v("Очистить")])],1)],1)],1)};n._withStripped=!0;var o={data:function(){return{notifications:[{title:"Notification 1",color:"warning"},{title:"Notification 2",color:"error"},{title:"Notification 3",color:"error"},{title:"Notification 4",color:"success"}]}},computed:{messages:function(){return this.notifications.length}}},l=i(156),c=i(157),u=i.n(c),v=i(722),p=i(535),d=i(538),m=i(515),f=i(540),h=i(523),_=i(495),b=i(524),g=i(568),V=i(551),x=Object(l.a)(o,n,[],!1,null,null,null);u()(x,{VBadge:v.a,VBtn:p.a,VCard:d.a,VIcon:m.a,VList:f.a,VListItem:h.a,VListItemContent:_.a,VListItemIcon:b.a,VListItemTitle:_.c,VMenu:g.a,VSubheader:V.a}),x.options.__file="src/Components/layout/AppHeader/TheNotifications.vue";var C=x.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{icon:""}},"v-btn",s,!1),a),[i("v-avatar",[i("img",{attrs:{src:t.user.avatar,alt:"Пользователь"}})])],1)]}}])},[t._v(" "),i("v-card",[i("v-card-text",{staticClass:"pa-0"},[i("v-list",[i("v-list-item",[i("v-list-item-avatar",[i("img",{attrs:{src:t.user.avatar,alt:"Пользователь"}})]),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.user.firstname)+"\n                            "+t._s(t.user.lastname))]),t._v(" "),i("v-list-item-subtitle",[t._v(t._s(t.user.work))])],1)],1)],1),t._v(" "),i("v-divider"),t._v(" "),i("v-list",{attrs:{dense:""}},[t._l(t.menus,(function(e,a){return i("v-list-item",{key:a,attrs:{to:e.route}},[i("v-list-item-icon",{staticClass:"mr-3"},[i("v-icon",{attrs:{dense:"",color:"primary"}},[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),t._v(" "),i("v-list-item",{attrs:{to:"/logout"}},[i("v-list-item-icon",{staticClass:"mr-3"},[i("v-icon",{attrs:{dense:"",color:"primary"}},[t._v("mdi-logout")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v("Выход")])],1)],1)],2),t._v(" "),i("v-divider"),t._v(" "),i("v-row",{staticClass:"px-4",attrs:{align:"center","no-gutters":""}},[i("v-col",{attrs:{cols:"auto"}},[t._v("Темная тема")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-col",{attrs:{cols:"auto"}},[i("v-switch",{attrs:{dense:""},model:{value:t.switchTheme,callback:function(e){t.switchTheme=e},expression:"switchTheme"}})],1)],1)],1)],1)],1)};w._withStripped=!0;var y={data:function(){return{user:{firstname:"Вася",lastname:"Куралесов",work:"Администратор",avatar:"https://i.pravatar.cc/300?img=50"},menus:[{title:"Профиль",icon:"mdi-account",route:"/profile"},{title:"Настройки",icon:"mdi-settings",route:"/settings"}]}},computed:{switchTheme:{get:function(){var t=JSON.parse(localStorage.getItem("theme"))||"light";return this.$vuetify.theme.dark="dark"===t},set:function(t){if("boolean"==typeof t){var e=!0===t?"dark":"light";localStorage.setItem("theme",JSON.stringify(e)),this.$vuetify.theme.dark="dark"===e}}}}},k=i(545),A=i(503),I=i(724),$=i(552),P=i(543),S=i(725),j=i(726),L=i(727),B=Object(l.a)(y,w,[],!1,null,null,null);u()(B,{VAvatar:k.a,VBtn:p.a,VCard:d.a,VCardText:A.b,VCol:I.a,VDivider:$.a,VIcon:m.a,VList:f.a,VListItem:h.a,VListItemAvatar:P.a,VListItemContent:_.a,VListItemIcon:b.a,VListItemSubtitle:_.b,VListItemTitle:_.c,VMenu:g.a,VRow:S.a,VSpacer:j.a,VSwitch:L.a}),B.options.__file="src/Components/layout/AppHeader/TheAccount.vue";var M={components:{AppBarNotifications:C,AppBarAccount:B.exports},computed:{title:function(){return this.$store.state.config.app.appBarTitle}},methods:{toggleLeftBar:function(t){this.$store.commit(r.f,t)}}},F=i(738),T=i(728),D=i(654),E=Object(l.a)(M,s,[],!1,null,null,null);u()(E,{VAppBar:F.a,VAppBarNavIcon:T.a,VSpacer:j.a,VToolbarTitle:D.a}),E.options.__file="src/Components/layout/AppHeader/index.vue";var N=E.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{attrs:{app:"",subheader:"","mini-variant":t.mini},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("div",{staticClass:"px-2"},[i("div",{staticClass:"py-2"},[i("v-subheader",[t._v(t._s(t.appName))])],1),t._v(" "),i("v-divider")],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t._v(" "),i("v-list",{attrs:{nav:""}},[i("v-list-item",{attrs:{to:"/projects"}},[i("v-list-item-icon",[i("v-icon",{attrs:{color:"accent"}},[t._v("mdi-calendar-multiple")])],1),t._v(" "),i("v-list-item-title",[t._v("Проекты")])],1)],1)],1)};O._withStripped=!0;var R={data:function(){return{}},computed:{mini:function(){return this.$store.state.leftBarMini},drawer:{get:function(){return this.$store.state.leftBarVisible},set:function(t){this.drawer!==t&&this.$store.commit(r.f,"leftBarVisible")}},appName:function(){return this.$store.state.config.app.name}}},H=i(729),J=Object(l.a)(R,O,[],!1,null,null,null);u()(J,{VDivider:$.a,VIcon:m.a,VList:f.a,VListItem:h.a,VListItemIcon:b.a,VListItemTitle:_.c,VNavigationDrawer:H.a,VSubheader:V.a}),J.options.__file="src/Components/layout/AppLeftBar/index.vue";var z=J.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-footer",{attrs:{app:"",padless:"",absolute:"",inset:""}},[i("v-row",{staticClass:"py-md-2",attrs:{justify:"center","no-gutters":""}},t._l(t.links,(function(e){return i("v-btn",{key:e.name,attrs:{text:"",rounded:"",to:e.route}},[t._v("\n            "+t._s(e.name)+"\n        ")])})),1),t._v(" "),i("v-col",{staticClass:"pa-0",attrs:{cols:"12"}}),t._v(" "),i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(t._s((new Date).getFullYear())+" — "),i("strong",[t._v(t._s(t.appName))])])],1)};U._withStripped=!0;var q={data:function(){return{links:[{name:"Главная",route:"/"},{name:"Контакты",route:"/contacts"},{name:"Политика конфиденциальности",route:"/privacy"}]}},computed:{appName:function(){return this.$store.state.config.app.name}}},G=i(730),Q=Object(l.a)(q,U,[],!1,null,null,null);u()(Q,{VBtn:p.a,VCol:I.a,VFooter:G.a,VRow:S.a}),Q.options.__file="src/Components/layout/AppFooter/index.vue";var Y=Q.exports,K=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-alert",{staticClass:"alert ml-6",attrs:{type:t.alert.type,elevation:"8","max-width":"300px",transition:"scroll-y-reverse-transition"}},[t._v(t._s(t.alert.message))])};K._withStripped=!0;var W={computed:{alert:function(){return this.$store.state.alert}}},X=(i(664),i(731)),Z=Object(l.a)(W,K,[],!1,null,"12df9064",null);u()(Z,{VAlert:X.a}),Z.options.__file="src/Components/popups/Alert.vue";var tt,et=Z.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{elevation:"2",outlined:""}},[i("v-card-title",{staticClass:"mb-6"},[i("v-text-field",{staticClass:"pa-0 ma-0",attrs:{"append-icon":"mdi-magnify",label:"Введите название","single-line":"","hide-details":""},model:{value:t.searchModel,callback:function(e){t.searchModel=e},expression:"searchModel"}}),t._v(" "),i("v-spacer"),t._v(" "),i("div",{staticClass:"text-center pa-0 ma-0"},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[i("v-icon",[t._v("mdi-filter")])],1)]}}])},[t._v(" "),i("v-card",[i("v-list",[i("v-list-item",[i("v-select",{attrs:{items:t.statuses,"item-text":"title_ru","item-value":"id","menu-props":"auto",label:"Статус","hide-details":"","single-line":""},model:{value:t.statusModel,callback:function(e){t.statusModel=e},expression:"statusModel"}})],1),t._v(" "),i("v-list-item",[i("v-container",{staticClass:"px-0",attrs:{fluid:""}},[i("v-checkbox",{attrs:{label:"Публичный"},model:{value:t.isPublicModel,callback:function(e){t.isPublicModel=e},expression:"isPublicModel"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.projects,options:t.options,"server-items-length":t.totalCount,loading:t.loading,"footer-props":t.footerProps,"no-data-text":"По указанному запросу данных не найдено"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"body.append",fn:function(){return[i("v-dialog",{attrs:{width:"300px"},model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[t._v("Изменить статус")])]),t._v(" "),i("v-card-text",{staticClass:"px-0"},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-card",{attrs:{flat:"",outlined:""}},[i("v-list",{staticClass:"pa-0"},[i("v-list-item-group",{model:{value:t.statusModel,callback:function(e){t.statusModel=e},expression:"statusModel"}},t._l(t.statuses,(function(e,a){return i("v-list-item",{key:a,attrs:{disabled:e.id===t.editedItem.status}},[i("v-list-item-icon",[i("v-icon",{attrs:{color:t.statusColor(e.id)},domProps:{textContent:t._s(e.icon)}})],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.title_ru)}})],1)],1)})),1)],1)],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("\n                            Отмена\n                        ")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("\n                            Сохранить\n                        ")])],1)],1)],1)]},proxy:!0},{key:"item.status",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{"text-color":"white",color:t.statusColor(a.status)}},[t._v(t._s(t.statusTitle(a.status)))])]}},{key:"item.isPublic",fn:function(e){var a=e.item;return[i("v-icon",{attrs:{small:""}},[t._v("\n                "+t._s(t.visibilityIcon(a.isPublic))+"\n            ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[i("v-icon",{attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")])]}},{key:"footer.page-text",fn:function(e){return[t._v("\n            "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" из\n            "+t._s(e.itemsLength)+"\n        ")]}}])})],1)};function at(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}it._withStripped=!0;var st={props:{projects:Array},data:function(){return{dialogEdit:!1,editedItem:{},footerProps:{"items-per-page-text":"На странице","disable-items-per-page":!0},headers:[{text:"Название",sortable:!1,align:"start",value:"title"},{text:"Город",sortable:!1,value:"city"},{text:"Дата создания",sortable:!1,value:"creationDate"},{text:"Статус",sortable:!1,align:"center",value:"status"},{text:"Публичный",sortable:!1,align:"center",value:"isPublic"},{text:"Действия",align:"center",value:"actions",sortable:!1}],isPublicFilter:!1,newStatus:null,options:{itemsPerPage:10},search:"",statusFilter:null,requestError:!1,statuses:[{id:0,title_ru:"Проект",title_en:"Draft",color:"grey",icon:"mdi-clipboard-text"},{id:1,title_ru:"В работе",title_en:"Active",color:"orange",icon:"mdi-clipboard-flow"},{id:2,title_ru:"Окончен",title_en:"Finished",color:"green",icon:"mdi-clipboard-check"},{id:3,title_ru:"Архивный",title_en:"Archive",color:"yellow",icon:"mdi-archive"},{id:4,title_ru:"Отменен",title_en:"Canceled",color:"red",icon:"mdi-cancel"}]}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},computed:(tt={currentPage:function(){return this.$store.state.siis.currentPage},searchModel:{set:function(t){this.search=t,this.getDataFromApi()},get:function(){return this.search}},statusModel:{set:function(t){this.newStatus=t},get:function(){return this.editedItem.status}}},at(tt,"statusModel",{set:function(t){this.statusFilter=t,this.getDataFromApi()},get:function(){return this.statusFilter}}),at(tt,"isPublicModel",{set:function(t){this.isPublicFilter=t,this.getDataFromApi()},get:function(){return this.isPublicFilter}}),at(tt,"loading",(function(){return this.$store.state.siis.tableLoading})),at(tt,"siisApi",(function(){return this.$store.state.config.api.siis.baseUrl})),at(tt,"totalCount",(function(){return this.$store.state.siis.totalCount})),tt),methods:{close:function(){this.dialogEdit=!1,this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},getDataFromApi:function(){var t=this;this.$store.commit(r.e,!0);var e=this.options,i=e.sortBy,a=e.sortDesc,s=e.page,n=e.itemsPerPage;if(this.search)var o=this.search;if(null!==this.statusFilter)var l=this.statusFilter;if(null!==this.isPublicFilter)var c=this.isPublicFilter;this.$axios.get("".concat(this.siisApi,"/projects"),{params:{page:s,title:o,status:l,isPublic:c}}).then((function(e){if(200!==e.status)return t.$store.commit(r.a,{show:!0,message:"Не удалось загрузить данные. Пожалуйста, попробуйте позже",type:"error"});var o=e.data;if(t.$store.commit(r.c,o.projects),o.projects.length){o.currentPage&&t.$store.commit(r.b,o.currentPage),o.totalCount&&t.$store.commit(r.g,o.totalCount);var l=t.projects;1===i.length&&1===a.length&&(l=l.sort((function(t,e){var s=t[i[0]],r=e[i[0]];return a[0]?s<r?1:s>r?-1:0:s<r?-1:s>r?1:0}))),n>0&&(l=l.slice((s-1)*n,s*n))}})).catch((function(e){return t.$store.commit(r.a,{show:!0,message:"Не удалось загрузить данные. Пожалуйста, попробуйте позже",type:"error"})})).finally((function(){t.$store.commit(r.e,!1)}))},editItem:function(t){this.editedIndex=this.projects.indexOf(t),this.editedItem=Object.assign({},t),this.dialogEdit=!0,this.newStatus=t.status},save:function(){var t=this;if(this.editedIndex>-1){var e=e=new FormData;e.append("projectId",this.editedItem.id),e.append("status",this.newStatus),this.$store.commit(r.e,!0),this.$axios.post("".concat(this.siisApi,"/projects/setProjectStatus"),e).then((function(e){if(200!==e.status)return t.$store.commit(r.a,{show:!0,message:"Не удалось загрузить данные. Пожалуйста, попробуйте позже",type:"error"});var i=e.data;if(!i.isSuccess)return t.$store.commit(r.a,{show:!0,message:i.errorMessage,type:"error"});t.editedItem.status=t.newStatus,t.$store.commit(r.h,{index:t.editedIndex,item:t.editedItem}),t.$store.commit(r.a,{show:!0,message:"Статус успешно изменен",type:"success"}),t.close()})).catch((function(e){return t.$store.commit(r.a,{show:!0,message:"Не удалось загрузить данные. Пожалуйста, попробуйте позже",type:"error"})})).finally((function(){t.$store.commit(r.e,!1)}))}},statusColor:function(t){var e="";switch(t){case 0:e="grey";break;case 1:e="yellow accent-4";break;case 2:e="green";break;case 3:e="orange";break;case 4:e="red"}return e},statusTitle:function(t){var e="";switch(t){case 0:e="Проект";break;case 1:e="В работе";break;case 2:e="Окончен";break;case 3:e="Архивный";break;case 4:e="Отменен"}return e},visibilityIcon:function(t){return t?"mdi-check":"mdi-close"}}},rt=i(732),nt=i(560),ot=i(739),lt=i(736),ct=i(733),ut=i(567),vt=i(564),pt=i(708),dt=Object(l.a)(st,it,[],!1,null,null,null);u()(dt,{VBtn:p.a,VCard:d.a,VCardActions:A.a,VCardText:A.b,VCardTitle:A.c,VCheckbox:rt.a,VChip:nt.a,VCol:I.a,VContainer:ot.a,VDataTable:lt.a,VDialog:ct.a,VIcon:m.a,VList:f.a,VListItem:h.a,VListItemContent:_.a,VListItemGroup:ut.a,VListItemIcon:b.a,VListItemTitle:_.c,VMenu:g.a,VRow:S.a,VSelect:vt.a,VSpacer:j.a,VTextField:pt.a}),dt.options.__file="src/Pages/Projects/Table.vue";var mt={components:{AppHeader:N,AppLeftBar:z,AppFooter:Y,AlertPopup:et,ProjectsTable:dt.exports},data:function(){return{}},computed:{alert:function(){return this.$store.state.alert},siisApi:function(){return this.$store.state.config.api.siis.baseUrl},projects:function(){return this.$store.state.siis.projects}}},ft=i(494),ht=i(734),_t=Object(l.a)(mt,a,[],!1,null,null,null);u()(_t,{VApp:ft.a,VCol:I.a,VContainer:ot.a,VMain:ht.a,VRow:S.a}),_t.options.__file="src/Pages/Projects/Index.vue";e.default=_t.exports}}]);
//# sourceMappingURL=3.5a291bb8cb987e2cdac8.js.map